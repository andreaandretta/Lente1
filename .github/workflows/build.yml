name: Build Android APK

on:
  push:
      branches: [ main ]
        pull_request:
            branches: [ main ]

            jobs:
              build:
                  runs-on: ubuntu-latest

                      steps:
                          - uses: actions/checkout@v3

                              - name: Set up JDK 17
                                    uses: actions/setup-java@v3
                                          with:
                                                  java-version: '17'
                                                          distribution: 'temurin'
                                                                  cache: gradle

                                                                      - name: Grant execute permission for gradlew
                                                                            run: chmod +x gradlew || true

                                                                                - name: Build with Gradle
                                                                                      run: ./gradlew assembleRelease || true

                                                                                          - name: Upload APK
                                                                                                uses: actions/upload-artifact@v3
                                                                                                      if: always()
                                                                                                            with:
                                                                                                                    name: app-release
                                                                                                                            path: app/build/outputs/apk/release/app-release.apk
                                                                                                                                    retention-days: 30
